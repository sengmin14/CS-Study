# 🥕 google.com을 입력했을 때 일어나는 과정

## 1. google.com 입력하면 입력한 URL 주소 중, 도메인 이름에 해당하는 google.com을 DNS 서버에서 검색
- 웹 브라우저는 DNS 서버에 검색하기 전에 캐싱된 DNS 기록들을 먼저 확인
- 만약 해당 도메인 이름에 맞는 IP 주소가 존재하면, DNS서버에 해당 도메인 이름에 해당하는 IP 주소를 요청하지 않고 캐싱된 IP주소를 반환
- 일치하는 IP주소가 존재하지 않는다면, 다음 과정인 DNS 서버 요청으로 넘어감

![image](https://github.com/user-attachments/assets/ab29e76b-e620-4f6d-996d-67015f828c9e)

## 2. 가장 가까운 DNS 서버에서 해당 도메인 이름에 해당하는 IP주소를 찾아 사용자가 입력한 URL 정보와 함께 전달
- ISP(ex SK브로드밴드, KT)를 통해 DNS서버가 호스팅하고 있는 서버의 IP주소를 찾기 위해 DNS query를 전달
- DNS query는 현재 DNS서버에 원하는 IP주소가 존재하지 않으면 다른 DNS 서버를 방문하는 과정을 반복한다.

![image](https://github.com/user-attachments/assets/32febbd3-3b13-43fa-95e5-a5a96108bb15)

- 해당 도메인 이름에 맞는 IP주소로 변환하는 과정은 점(.)을 기준으로 계층적으로 구분하여 구성된다.
- 해당 계층의 탐색 순서는 뒤에서부터 해당 도메인 이름에 맞는 지역 DNS를 탐색한다.
- root DNS 서버가 나올때까지 거꾸로 탐색
```
EX) .-> com -> google.com
```
- 이와 같이 Local DNS 서버가 여러 DNS 서버를 차례대로 물어봐서 답을 찾는 과정을 Recursive Query라고 부른다.

## 3. 전달받은 IP주소를 이용하여 웹 브라우저는 웹 서버에게 해당 웹 사이트에 맞는 HTML문서를 요청
- 해당 HTTP 요청 메세지는 TCP/IP 프로토콜을 사용하여 서버로 전송된다.
- TCP는 전송 프로토콜로 데이터의 전송을 제어하고 데이터를 어떻게 보낼 지, 어떻게 맞출 지 정한다.
- IP의 특징인 비신뢰성과 비연결성으로 인해 IP 프로토콜 만으로는 통신을 할 수 없다.
![image](https://github.com/user-attachments/assets/13f977db-631a-4ea5-8afb-c072ad0363ee)

## 4. WAS와 데이터베이스에서 웹페이지 작업을 처리
- 웹 서버 혼자서 모든 로직 처리 및 데이터 관리를 하게되면 서버에 과부하가 일어날 가능성이 높다.
- 그렇기에 서버의 일을 돕는 조력자 역할을 하는 것이 WAS 이다.
- WAS는 사용자의 컴퓨터나 장치에 웹 어플리케이션을 수행해주는 미들웨어 이다.
- 특정 데이터 요청을 브라우저로부터 받게되면, 웹 서버는 페이지의 로직이나 데이터베이스의 연동을 위해 WAS에게 이들의 처리를 요청한다.
- WAS는 해당 요청을 통해 동적인 페이지 처리를 담당하고, DB에서 필요한 데이터 정보를 받아 그에 맞는 파일을 생성한다.

![image](https://github.com/user-attachments/assets/e79fbd22-c1e8-4f6b-a84d-7d3f3149e7be)


## 5. WAS에서의 작업 처리 결과들을 웹 서버로 전송하고, 웹 서버는 웹 브라우저에게 HTML 문서 결과를 전달한다.
- 전달 과정에는 status code를 통해 서버 요청에 따른 결과 및 상태를 전달한다.
```
1xx : 정보가 담긴 메세지
2xx : response 성공
3xx : 클라이언트를 다른 URL로 리다이렉트
4xx : 클라이언트 측에서 에러 발생
5xx : 서버 측에서 에러 발생
```
